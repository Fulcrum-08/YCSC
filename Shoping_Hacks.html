<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Environmental Impact Store</title>

<style>
:root {
  --bg:#f5f7fb;
  --card:#fff;
  --muted:#6b7280;
  --accent:#16a34a;
}

*{box-sizing:border-box;}

body{
  margin:0;
  font-family:Inter,sans-serif;
  display:flex;
  min-height:100vh;
  background:var(--bg);
  color:#111827;
  overflow-y:auto;
}

/* NAVBAR */
nav{
  position:fixed;
  top:0;
  width:100%;
  background:#2f5d3a;
  padding:15px 40px;
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  z-index:1000;
}

nav h1{
  color:#f1f5ef;
  font-size:22px;
  margin-right:20px;
}

.nav-left,.nav-right{
  display:flex;
  align-items:center;
  gap:22px;
}

.nav-left{justify-content:flex-start;}
.nav-center{
  display:flex;
  gap:18px;
  justify-content:center;
}

.nav-secondary{
  justify-content:flex-end;
  gap:26px;
}

nav a{
  color:#e8f2ea;
  text-decoration:none;
  font-size:16px;
  padding:6px 8px;
  transition:color 0.3s,opacity 0.3s;
}

nav a:hover{color:#cfe3d4;}

.nav-secondary a{
  opacity:0.85;
  font-weight:500;
}

.nav-secondary a:hover{
  opacity:1;
}

.main-tab{
  background:#f1f5ef;
  color:#2f5d3a;
  padding:10px 24px;
  border-radius:999px;
  font-weight:bold;
  transition:transform .25s,box-shadow .25s,background .25s;
}

.main-tab:hover{
  background:#e2eadf;
  transform:translateY(-3px);
  box-shadow:0 10px 22px rgba(0,0,0,0.25);
}

/* LAYOUT */
.wrapper{
  display:flex;
  flex:1;
  margin-top:80px;
}

.sidebar{
  width:260px;
  background:linear-gradient(180deg,#eef2f6,#f8fafc);
  border-right:1px solid rgba(16,24,40,0.04);
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.main{
  flex:1;
  padding:28px;
  display:flex;
  flex-direction:column;
  gap:18px;
  min-height:100vh;
}

/* CARDS */
.card{
  background:var(--card);
  padding:18px;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(15,23,42,0.04);
}

/* STORE TABS (IMPROVED) */
#storeTabs{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}

#storeTabs button{
  padding:12px 14px;
  border-radius:10px;
  border:1px solid rgba(16,24,40,0.08);
  background:white;
  cursor:pointer;
  text-align:left;
  font-weight:600;
  transition:transform .15s ease,box-shadow .15s ease,background .15s;
}

#storeTabs button:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 14px rgba(15,23,42,0.08);
}

#storeTabs button.active{
  background:linear-gradient(135deg,#16a34a,#22c55e);
  color:white;
  box-shadow:0 8px 20px rgba(22,163,74,0.35);
}

/* SELECTED LIST */
.selected-list{
  padding:12px;
  background:rgba(22,163,74,0.06);
  border-radius:10px;
  font-size:14px;
}

.selected-item{
  display:flex;
  justify-content:space-between;
  gap:8px;
  padding:6px 0;
}

.clear-btn{
  margin-top:10px;
  padding:8px 10px;
  border-radius:8px;
  border:1px solid rgba(16,24,40,0.06);
  background:white;
  cursor:pointer;
}

.total-price{
  margin-top:8px;
  font-weight:700;
}

/* PRODUCTS */
.dept-bar{
  display:flex;
  gap:10px;
  margin-bottom:14px;
}

.dept-bar button{
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(16,24,40,0.06);
  background:white;
  cursor:pointer;
}

.dept-bar button.active{
  background:var(--accent);
  color:white;
}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
  gap:16px;
}

.product-card{
  background:white;
  padding:14px;
  border-radius:10px;
  box-shadow:0 6px 14px rgba(15,23,42,0.03);
  cursor:pointer;
  border:1px solid transparent;
  transition:transform .12s ease,border .12s ease;
}

.product-card:hover{transform:translateY(-4px);}
.product-card.selected{
  border-color:rgba(16,185,129,.25);
}

.prod-meta{
  font-size:13px;
  color:var(--muted);
  margin-top:8px;
}

.badge{
  padding:6px 10px;
  border-radius:999px;
  color:white;
  font-size:12px;
  font-weight:700;
}

.badge.green{background:#16a34a;}
.badge.orange{background:#f97316;}
.badge.red{background:#ef4444;}

/* TOP CARDS */
.top-card{
  display:flex;
  gap:16px;
  flex-wrap:wrap;
}

.top-card>.card{
  flex:1;
  min-width:200px;
}
</style>
</head>

<body>

<nav>
  <div class="nav-left">
    <h1>Env Impact Store</h1>
    <a href="index.html">Home</a>
    <a href="index.html#mission">Mission</a>
    <a href="index.html#team">Team</a>
  </div>

  <div class="nav-center">
    <a href="programs.html" class="main-tab">Programs</a>
    <a href="map.html" class="main-tab">Map</a>
    <a href="Shoping_Hacks.html" class="main-tab">Shop</a>
  </div>

  <div class="nav-right nav-secondary">
    <a href="index.html#about">About</a>
    <a href="index.html#contact">Contact</a>
  </div>
</nav>

<div class="wrapper">

  <aside class="sidebar">
    <div>
      <strong>Env Impact Store</strong>
      <div style="font-size:13px;color:var(--muted)">
        Pick products across stores — score is internal.
      </div>
    </div>

    <div id="storeTabs"></div>

    <div class="selected-list card">
      <strong>Selected items</strong>
      <div id="selectedItemsContainer"></div>
      <div class="total-price" id="totalPrice">Total: $0</div>
      <button class="clear-btn" id="clearAllBtn">Clear all</button>
    </div>
  </aside>

  <main class="main">
    <div class="top-card">
      <div class="card">
        <div style="font-size:13px;color:var(--muted)">
          Environmental Impact Overview
        </div>
        <div style="font-size:12px;color:var(--muted)">
          Products ranked green → red. Score is internal.
        </div>
        <span id="impactScore" style="display:none">0</span>
      </div>

      <div class="card" style="width:320px">
        <strong>Current store</strong>
        <div id="currentStoreName">-</div>
      </div>
    </div>

    <div class="card">
      <div id="deptBar" class="dept-bar"></div>
      <div id="productGrid" class="products"></div>
    </div>
  </main>

</div>

<script>
/* ======= YOUR ORIGINAL JS (UNCHANGED) ======= */
const stores=[{name:'River Vally',departments:[{name:'Food',products:[{name:'Glass Jar Pasta',brand:'NaturaFoods',packaging:'Glass',impact:6,price:4.5,tag:'pasta'},{name:'Organic Chips',brand:'GreenCrunch',packaging:'Plastic',impact:18,price:2.5,tag:'snack'},{name:'Local Honey',brand:'BeeGood',packaging:'Glass',impact:4,price:6,tag:'honey'},{name:'Cheddar Cheese',brand:'DairyPure',packaging:'Plastic',impact:10,price:5,tag:'cheese'}]},{name:'Household',products:[{name:'Reusable Bag',brand:'EcoCarry',packaging:'Fabric',impact:2,price:3,tag:'bag'},{name:'Bamboo Toothbrush',brand:'GreenBrush',packaging:'Paper',impact:3,price:2,tag:'toothbrush'}]}]},{name:'Stop and Shop',departments:[{name:'Food',products:[{name:'Wildflower Honey',brand:'BeeBest',packaging:'Glass',impact:2,price:5,tag:'honey'},{name:'Organic Pasta',brand:'FarmFresh',packaging:'Paper',impact:3,price:4,tag:'pasta'},{name:'Greek Yogurt',brand:'CreamyVale',packaging:'Plastic',impact:7,price:3.5,tag:'yogurt'},{name:'Mozzarella Cheese',brand:'DairyGood',packaging:'Plastic',impact:9,price:4.5,tag:'cheese'}]}]},{name:'ALDI',departments:[{name:'Food',products:[{name:'Almond Butter',brand:'Nutty',packaging:'Glass',impact:5,price:7,tag:'spread'},{name:'Honey Comb',brand:'BeePure',packaging:'Glass',impact:3,price:6,tag:'honey'}]}]}];

stores.forEach((s,i)=>s.departments.forEach((d,j)=>d.products.forEach((p,k)=>p.id=`s${i}d${j}p${k}`)));

let selectedStore=stores[0];
let selectedDepartment=selectedStore.departments[0];
let selectedProducts=[];

function renderStores(){
  const c=document.getElementById('storeTabs');c.innerHTML='';
  stores.forEach(s=>{
    const b=document.createElement('button');
    b.textContent=s.name;
    if(s===selectedStore)b.classList.add('active');
    b.onclick=()=>{
      selectedStore=s;
      selectedDepartment=s.departments[0];
      renderStores();renderDepartments();renderProducts();
    };
    c.appendChild(b);
  });
  document.getElementById('currentStoreName').textContent=selectedStore.name;
}

function renderDepartments(){
  const b=document.getElementById('deptBar');b.innerHTML='';
  selectedStore.departments.forEach(d=>{
    const btn=document.createElement('button');
    btn.textContent=d.name;
    if(d===selectedDepartment)btn.classList.add('active');
    btn.onclick=()=>{selectedDepartment=d;renderDepartments();renderProducts();};
    b.appendChild(btn);
  });
}

function renderProducts(){
  const g=document.getElementById('productGrid');g.innerHTML='';
  selectedDepartment.products.forEach(p=>{
    const el=document.createElement('div');
    el.className='product-card';
    el.innerHTML=`<strong>${p.name}</strong>
      <div class="prod-meta">${p.brand} • ${p.packaging} • $${p.price}</div>
      <span class="badge ${p.impact<=5?'green':p.impact<=12?'orange':'red'}">
        ${p.impact<=5?'Low':p.impact<=12?'Medium':'High'}
      </span>`;
    g.appendChild(el);
  });
}

renderStores();
renderDepartments();
renderProducts();
</script>

</body>
</html>
